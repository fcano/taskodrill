{% extends "base.html" %}

{% block content %}
    <h1>Task</h1>
    <a href="{% url 'task_add' %}">New</a>
    {% if task_list %}
    <table id="tasks_table" border="1">
      <thead>
        <tr>
          <th></th>
          <th>Task</th>
          <th>Priority</th>
          <th>Start date</th>
          <th>Start time</th>
          <th>Due date</th>
          <th>Project</th>
          <th>Repeat</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="tasks_body">
        {% for task in task_list %}
        <tr id="task_row_{{ task.id }}">
          <td><input class="checkbox" type="checkbox" id="checkbox_{{ task.id }}" value="{{ task.id }}"></td>
          <td><a href="{{ task.get_absolute_url }}">{{ task.name }}</a></td>
          <td>{{ task.get_priority_display }}</td>
          <td>{{ task.start_date | default_if_none:"No date"}}</td>
          <td>{{ task.start_time | default_if_none:"No time"}}</td>
          <td>{{ task.due_date | default_if_none:"No date"}}</td>
          <td>{{ task.project | default_if_none:"None" }}</td>
          <td>{{ task.get_repeat_display | default_if_none:"None" }}</td>
          <td><a href="{% url 'task_delete' task.pk %}" class="confirm-delete">Delete</span></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
      <p>There are no tasks in this list.</p>
    {% endif %}       
{% endblock %}